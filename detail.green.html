<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>è©³ç´°ãƒ»è§£èª­ãƒ¢ãƒ¼ãƒ‰</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map { height: 100vh; width: 100%; background: #f0f0f0; }
        .controls { position: absolute; top: 10px; right: 10px; z-index: 1000; background: white; padding: 10px; border-radius: 5px; display: flex; flex-direction: column; gap: 5px; }
        .back-btn { position: absolute; top: 10px; left: 10px; z-index: 1000; background: #333; color: white; padding: 10px; text-decoration: none; border-radius: 5px; }
        .map-label { font-weight: bold; font-size: 24px; white-space: nowrap; }
    #info-panel {				
        position: absolute;				
        bottom: 20px;				
        right: 10px;				
        z-index: 1000;				
        background: white;				
        padding: 15px;				
        border-radius: 8px;				
        box-shadow: 0 0 10px rgba(0,0,0,0.2);				
        width: 250px;				
        display: none; /* æœ€åˆã¯éš ã—ã¦ãŠã */	

    </style>
</head>
<body>
   			

<a href="index.html" class="back-btn">â† å…¨ä½“ã«æˆ»ã‚‹</a>

<div class="controls">
    <button onclick="changeMode(1)">1. å…ƒã®åœ°å›³ï¼ˆæ‹¡å¤§ç‰ˆï¼‰</button>
    <button onclick="changeMode(2)">2. è§£èª­åœ°å›³ï¼ˆæ‹¡å¤§ç‰ˆï¼‰</button>
    <button onclick="changeMode(3)">3. è§£æçµæœã¨èª¬æ˜ï¼ˆå­—ã®å‘ãçµ±ä¸€ï¼‰</button>
</div>
<div id="map"></div>

<div id="info-panel">							
    <div class="panel-title">ğŸ’¡ è§£èª­ã®è±†çŸ¥è­˜</div>							
    <p style="margin: 0; font-size: 14px;">							
        éƒ¨å±‹åãªã©ã«ã€Œå¾¡ï¼ˆãŠã‚“ãƒ»ã”ï¼‰ã€ãŒã¤ã„ã¦ã„ã‚‹ã“ã¨ãŒå¤šãã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯æ¥é ­è¾ï¼ˆä¸å¯§ã«ã™ã‚‹è¨€è‘‰ï¼‰ãŒã¤ã„ãŸã‚‚ã®ã§ã€å½“æ™‚ã®æ•¬æ„ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚							
    </p>							
</div>		

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    const map = L.map('map', { crs: L.CRS.Simple, minZoom: -1 });
    const bounds = [[0, 0], [1000, 1000]];

    // â‘  å…ƒã®åœ°å›³ã€æ‹¡å¤§ç‰ˆã€‘
    const layerOriginal = L.imageOverlay('onarigennkann.big.jpg', bounds);
    // â‘¡ è§£èª­åœ°å›³ã€æ‹¡å¤§ç‰ˆã€‘
    const layerKaidoku = L.imageOverlay('onarigennkann.ni.png', bounds);

    // æœ€åˆã¯ã€Œå…ƒã®åœ°å›³ã€ã‚’è¡¨ç¤º
    layerOriginal.addTo(map);
    map.fitBounds(bounds);
    //
    map.setMaxBounds(bounds);
    // â‘¢ èª¬æ˜ç”¨ã®æ–‡å­—ãƒ‡ãƒ¼ã‚¿
    const annotations = [
        { text: "å¾¡å”é–€", latlng: [763,385], rotation:0 , size:15,vertical:true,desc: "å”ç ´é¢¨ï¼ˆã‹ã‚‰ã¯ãµï¼‰å½¢ã®å±‹æ ¹ã‚’ã‚‚ã¤é–€ã€‚"},
        { text: "åŸé™„æ­¦å…·é•·å±‹", latlng: [455,377], rotation:0 , size:15,vertical:true,desc: "ç¸¦æ›¸ã"},
        { text: "ä¸‰åä¹é–“", latlng: [484,490], rotation:0 , size:15,vertical:true,desc: "39é–“=ç´„70.902m"}, 
        { text: "é ä¾", latlng: [732,270], rotation:0 , size:15,vertical:true,desc: "ä¸­ä¸–ãƒ»è¿‘ä¸–ã®æ­¦å®¶å±‹æ•·ã§ï¼Œä¸»æ®¿ã‹ã‚‰é›¢ã‚ŒãŸä¸­é–€ã®è¿‘ãã«ä½ç½®ã™ã‚‹ï¼Œå½“ç•ªã®ä¾ã®è©°ã‚æ‰€ã€‚å¤–ä¾ã€‚ã¨ãŠã•ã‚€ã‚‰ã„ã€‚"},
        { text: "é ä¾", latlng: [820,260], rotation:0 , size:15,vertical:true,desc: "ä¸­ä¸–ãƒ»è¿‘ä¸–ã®æ­¦å®¶å±‹æ•·ã§ï¼Œä¸»æ®¿ã‹ã‚‰é›¢ã‚ŒãŸä¸­é–€ã®è¿‘ãã«ä½ç½®ã™ã‚‹ï¼Œå½“ç•ªã®ä¾ã®è©°ã‚æ‰€ã€‚å¤–ä¾ã€‚ã¨ãŠã•ã‚€ã‚‰ã„ã€‚"},
        { text: "å¾¡ç¸å´", latlng: [742,323], rotation:0 , size:13,vertical:true,desc: "å®¶ã®åº§æ•·ã®å¤–å´ã«è¨­ã‘ãŸï¼Œç´°é•·ã„æ¿æ•·ãã®éƒ¨åˆ†ã€‚ãˆã‚“ã€‚"},
        { text: "å¾¡åº§æ•·", latlng: [603,10], rotation:0 , size:10,vertical:true,desc: "æ¥å®¢ã«å¿œå¯¾ã™ã‚‹ãŸã‚ã®ç•³æ•·ãã®éƒ¨å±‹ã€‚å®¢é–“ã€‚ã¾ãŸã€æ¿æ•·ã«å¯¾ã—ã¦ï¼Œç•³ãŒæ•·ã„ã¦ã‚ã‚‹ãŠéƒ¨å±‹ã€‚"},
        { text: "å¾¡æ¬¡é–“", latlng: [753,220], rotation:0 , size:11,vertical:true,desc: "ã€å¾¡æ¬¡ã®é–“ã€‘ä¸»ãªåº§æ•·ã®éš£ã«ã¤ã„ã¦ã„ã‚‹å°éƒ¨å±‹ã€‚"},
        { text: "å¾¡åº§æ•·", latlng: [675,166], rotation:0 , size:13,vertical:true,desc: "æ¥å®¢ã«å¿œå¯¾ã™ã‚‹ãŸã‚ã®ç•³æ•·ãã®éƒ¨å±‹ã€‚å®¢é–“ã€‚ã¾ãŸã€æ¿æ•·ã«å¯¾ã—ã¦ï¼Œç•³ãŒæ•·ã„ã¦ã‚ã‚‹ãŠéƒ¨å±‹ã€‚"},
        { text: "å¾¡å»Šä¸‹", latlng: [512,30], rotation:0 , size:10,vertical:true,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚"},
        { text: "å¾¡å»£é–“", latlng: [465,173], rotation:0 , size:13,vertical:true,desc: "ã€å¾¡åºƒé–“ã€‘"},
        { text: "å¾¡ç¸å´", latlng: [408,222], rotation:0 , size:15,vertical:true,desc: "å®¶ã®åº§æ•·ã®å¤–å´ã«è¨­ã‘ãŸï¼Œç´°é•·ã„æ¿æ•·ãã®éƒ¨åˆ†ã€‚ãˆã‚“ã€‚"}, 
        { text: "æºœã‚Š", latlng: [304,205], rotation:0 , size:15,vertical:true,desc: "ç¸¦æ›¸ã"},
        { text: "å¾¡å»Šä¸‹", latlng: [513,30], rotation:0 , size:10,vertical:true,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚"},
        { text: "å¾¡ç‰©ç½®", latlng: [210,135], rotation:0 , size:13,vertical:true,desc: "ç¸¦æ›¸ã"},
        { text: "å¾¡å»Šä¸‹", latlng: [206,202], rotation:0 , size:13,vertical:true,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚" },
        { text: "å¾¡åºŠ", latlng: [378,28], rotation:0 , size:12,vertical:true,desc: "ç¸¦æ›¸ã"},
        { text: "ï¼Ÿï¼Ÿï¼Ÿæ­¤é€šæ«“ãƒ¨ãƒªæ«“åä¸‰ãƒæ‰äº”åå…­æœ¬", latlng: [314,852], rotation:11 , size:10,vertical:true,desc: "èª¬æ˜" },       
        { text: "æ¨«ã‚±ãƒ¤ã‚­", latlng: [252,754], rotation:12 , size:10,vertical:true,desc: "ã€æ¨«ã€‘ãƒ–ãƒŠç§‘ã‚³ãƒŠãƒ©å±ã®å¸¸ç·‘é«˜æœ¨ã®ç·ç§°ã€‚ç§‹ã«ãƒ‰ãƒ³ã‚°ãƒªã‚’çµã¶ã€‚æã¯å …ãã€ç´°å·¥ç‰©ãªã©ã«ç”¨ã„ã‚‹ã€‚ã€€ã€€ã€æ¬…ã€‘ãƒ‹ãƒ¬ç§‘ã®è½è‘‰å¤§é«˜æœ¨ã€‚é˜²é¢¨æ—ã‚„åº­æœ¨ã¨ã—ã¦æ ½æ¤ã™ã‚‹ã€‚æã¯å …ãã€æœ¨ç›®ãŒç¾ã—ã„ã®ã§ã€å»ºæãƒ»å®¶å…·æãªã©ã«ç”¨ã„ã‚‹ã€‚" },       

       
        { text: "å¾¡åº§æ•·", latlng: [856,135], rotation:0 , size:12,vertical:false,desc: "æ¥å®¢ã«å¿œå¯¾ã™ã‚‹ãŸã‚ã®ç•³æ•·ãã®éƒ¨å±‹ã€‚å®¢é–“ã€‚ã¾ãŸã€æ¿æ•·ã«å¯¾ã—ã¦ï¼Œç•³ãŒæ•·ã„ã¦ã‚ã‚‹ãŠéƒ¨å±‹ã€‚" },
        { text: "å¾¡å»Šä¸‹", latlng: [595,228], rotation:0 , size:12,vertical:false,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚" },
        { text: "å¾¡å»Šä¸‹", latlng: [553,153], rotation:0 , size:10,vertical:false,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚" },
        { text: "å¾¡å»Šä¸‹", latlng: [751,100], rotation:0 , size:12,vertical:false,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚" },
        { text: "å¾¡?å»Š?ä¸‹", latlng: [505,76], rotation:0 , size:10,vertical:false,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚" },
        { text: "å¾¡åº§æ•·", latlng: [447,73], rotation:0 , size:12,vertical:false,desc: "æ¥å®¢ã«å¿œå¯¾ã™ã‚‹ãŸã‚ã®ç•³æ•·ãã®éƒ¨å±‹ã€‚å®¢é–“ã€‚ã¾ãŸã€æ¿æ•·ã«å¯¾ã—ã¦ï¼Œç•³ãŒæ•·ã„ã¦ã‚ã‚‹ãŠéƒ¨å±‹ã€‚" },
        { text: "å¾¡æˆç„é–¢", latlng: [450,253], rotation:0 , size:15,vertical:false,desc: "èª¬æ˜" },
        { text: "å¾¡å»Šä¸‹ï¼Ÿ", latlng: [188,22], rotation:0 , size:12,vertical:false,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚" },
        { text: "åŸé™„çŸ³ç«çŸ¢å…¥å°å±‹", latlng: [160,573], rotation:0 , size:10,vertical:false,desc: "å®‡éƒ½å®®åŸã«å‚™ãˆã‚‰ã‚Œã¦ã„ã‚‹çŸ³ç«çŸ¢ã‚’åç´ã—ã¦ã„ãŸå°å±‹ã€‚ã€€çŸ³ç«çŸ¢â†’çŸ³ãƒ»é‰„ãªã©ã®å¡Šã‚’ç™ºå°„ã™ã‚‹,æ”»åŸç”¨ã®å¼©ï¼ˆãŠãŠã‚†ã¿ï¼‰" },
        { text: "å¾¡å»Šä¸‹", latlng: [73,92], rotation:0 , size:13,vertical:false,desc: "å®¶ã®ä¸­ã®éƒ¨å±‹ã‚’ã¤ãªãç´°é•·ã„é€šè·¯ã€‚" },
        { text: "åŒæ–­", latlng: [840,336], rotation:0 , size:15,vertical:true,desc: "å‰ã«è¿°ã¹ãŸã‚‚ã®ã¨åŒã˜ã§ã‚ã‚‹æ§˜å­ã€‚ã€å®‡éƒ½å®®åŸæœ¬ä¸¸å°†è»å®¶å¾¡æ³ŠåŸãƒç¯€å»ºç‰©ãƒå›³ã€ã¨å…±é€šã™ã‚‹éƒ¨åˆ†ãŒå¤šã„ã€å®‡éƒ½å®®åŸæœ¬ä¸¸ãƒ»äºŒã®ä¸¸å¾¡æ®¿å›³ã€ã«ã¯ã€Œå¾¡ç¸å´ã€ã¨è¨˜ã•ã‚Œã¦ã„ã‚‹ã€‚" },
        { text: "ç©ºåœ°", latlng: [305,43], rotation:0 , size:10,vertical:false,desc: "èª¬æ˜" },
        { text: "å¾¡ä¸Šæ®µ", latlng: [362,70], rotation:0 , size:12,vertical:false,desc: "èª¬æ˜" },
        { text: "å¾¡ç´æˆ¸", latlng: [71,10], rotation:0 , size:13,vertical:false,desc: "èª¬æ˜" }//[ä¸‹â†’ä¸Š,å·¦â†’å³]

            ];

    const markers = L.layerGroup(); // æ–‡å­—ã‚’ã¾ã¨ã‚ã¦ç®¡ç†ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—

    annotations.forEach(data => {
    // ç¸¦æ›¸ãã‹æ¨ªæ›¸ãã‹ã‚’åˆ¤å®šã™ã‚‹å‘½ä»¤									
    const writingMode = data.vertical ? 'vertical-rl' : 'horizontal-tb';									
    									
    const myIcon = L.divIcon({								
        className: 'map-label',									
        html: `<div style="									
            transform: rotate(${data.rotation}deg); 									
            font-size: ${data.size || 24}px; 									
            writing-mode: ${writingMode};									
            color: red;">${data.text}</div>`									
    });									
    									
    const marker = L.marker(data.latlng, { icon: myIcon });									
    marker.bindPopup(`<b>${data.text}</b><br>${data.desc}`);									
    markers.addLayer(marker);									
});									

    // åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
    function changeMode(mode) {
        // ä¸€æ—¦å…¨éƒ¨æ¶ˆã™
        map.removeLayer(layerOriginal);
        map.removeLayer(layerKaidoku);
        map.removeLayer(markers);

    // ä¸€æ—¦ãƒ‘ãƒãƒ«ã‚’éš ã™
    document.getElementById('info-panel').style.display = 'none';

    if (mode === 1) {
        layerOriginal.addTo(map);
    } else if (mode === 2) {
        layerKaidoku.addTo(map);
    } else if (mode === 3) {
        layerOriginal.addTo(map);
        markers.addTo(map);
        // ã€Œ3ã€ã®ã¨ãã ã‘ãƒ‘ãƒãƒ«ã‚’è¡¨ç¤ºã™ã‚‹
        document.getElementById('info-panel').style.display = 'block';
}

        if (mode === 1) {
            layerOriginal.addTo(map);
        } else if (mode === 2) {
            layerKaidoku.addTo(map);
        } else if (mode === 3) {
            layerOriginal.addTo(map); // èƒŒæ™¯ã¯å…ƒã®åœ°å›³
            markers.addTo(map);      // ãã®ä¸Šã«æ–‡å­—ã‚’è¡¨ç¤º
        }
    }
// --- åº§æ¨™èª¿æŸ»ç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆã“ã“ã‹ã‚‰ï¼‰ ---				
map.on('click', function(e) {				
    const lat = Math.round(e.latlng.lat);				
    const lng = Math.round(e.latlng.lng);				
    alert("ã“ã®å ´æ‰€ã®åº§æ¨™ã¯ [" + lat + ", " + lng + "] ã§ã™");				
    console.log("[" + lat + ", " + lng + "]");				
});				
// --- åº§æ¨™èª¿æŸ»ç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆã“ã“ã¾ã§ï¼‰ ---				



</script>
</body>
</html>
